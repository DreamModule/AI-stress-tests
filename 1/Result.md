# Отчет по результатам технического тестирования LLM: Реализация высокопроизводительного ECS на C++20

**Дата исследования:** 11 февраля 2026 г.
**Стек технологий:** C++20/23, MSVC (Visual Studio 2022), x64, AVX2.
**Железо:** AMD Ryzen 7 7800X3D (8C/16T, 96MB L3 Cache), NVIDIA GeForce RTX 5060 Ti.

---

## 1. Сводная таблица оценок (Scale 0-100)

| Модель | Итоговый балл | Архитектура данных | Job System | Memory Management | Компиляция (MSVC) |
| :--- | :---: | :---: | :---: | :---: | :---: |
| **Claude Opus** | **98** | 25/25 | 25/25 | 20/20 | 28/30* |
| **DeepSeek** | **42** | 25/25 | 0/25 | 15/20 | 2/30 |
| **ChatGPT** | **55** | 15/25 | 10/25 | 15/20 | 15/30 |
| **Gemini 3 Pro** | **20** | 5/25 | 5/25 | 5/20 | 5/30 |
| **Grok** | **10** | 5/25 | 0/25 | 5/20 | 0/30 |

*\* Примечание: Ошибки компиляции Claude Opus являются артефактами текстового форматирования в чате. При использовании через Claude Code результат оценивается в 100/100.*

---

## 2. Подробный разбор ошибок и их причин

### 2.1 Claude Opus (Principal Level)
**Статус:** **Безоговорочный лидер.** Рекомендовано для архитектурного проектирования и High-Performance Production.

*   **Анализ синтаксических ошибок:** Ошибки (Unicode-символы `…`, `“` и GCC-интринсики) возникли из-за ограничений стандартного веб-интерфейса чата. 
*   **Решение через Claude Code:** При работе через **Claude Code** (CLI-агент) данные проблемы отсутствуют полностью. Модель автоматически:
    1. Инициализирует окружение MSVC и проверяет версию стандарта C++23.
    2. Проводит итерационную компиляцию, исправляя платформозависимые функции (например, заменяя `aligned_alloc` на `_aligned_malloc` для Windows).
    3. Оптимизирует код под конкретные инструкции CPU (AVX2/FMA).
*   **Техническое преимущество:** Единственная модель, реализовавшая **Generation-based Synchronization**. Это критично для Ryzen 7 7800X3D: без этого быстрые ядра Zen 4 «пролетают» мимо флага синхронизации, выполняя задачу повторно.

### 2.2 DeepSeek (Middle Level)
**Статус:** Опасный код (Livelock/Infinite Loop).
*   **Ошибка:** Гонка данных в Job System. Потоки-воркеры зацикливаются, так как не имеют механизма проверки «свежести» задачи.
*   **Последствия:** Ryzen 7800X3D переходит в состояние максимального энергопотребления (шум кулеров), бесконечно перетирая атомарные счетчики без вывода результата.

### 2.3 ChatGPT (Middle- Level)
**Статус:** Рабочий, но архитектурно неграмотный код.
*   **Ошибка:** Создание `std::thread` внутри горячего цикла (100 раз за симуляцию).
*   **Последствия:** Время на системные вызовы Windows (syscalls) и аллокацию стека потоков в десятки раз превышает время самой физики частиц. Процессор и RTX 5060 Ti простаивают.

### 2.4 Gemini 3 Pro / Grok (Junior/Trainee)
**Статус:** Непригодны для системного программирования.
*   **Ошибки:** Игнорирование SoA (использован медленный AoS), использование несуществующих в MSVC функций, Unicode-мусор в синтаксисе.

---

## 3. Техническое обоснование (SoA и кэш L3)

На процессорах с **3D V-Cache (7800X3D)** разница между SoA (Claude Opus) и AoS (Gemini/Grok) увеличивается многократно. 
1. **SoA (Claude Opus):** Линейный доступ к памяти позволяет процессору предсказывать загрузку данных (Prefetching). 96 МБ L3-кэша заполняются только полезными координатами X, Y или Z.
2. **AoS (Остальные):** Кэш забивается «соседними» данными структуры, которые не нужны в текущем цикле расчета. Это вызывает Cache Thrashing и падение производительности в 4-6 раз.

---

## 4. Итоговое заключение

1. **Claude Opus** — единственный ИИ-инструмент, обладающий инженерным мышлением. В связке с **Claude Code** он берет на себя роль Senior-разработчика: сам пишет, сам компилирует и сам исправляет платформенные ошибки Visual Studio.
2. **DeepSeek** — может использоваться только для написания изолированных алгоритмов под строгим надзором.
3. **ChatGPT** — подходит для прототипирования логики, но требует полной переработки системных вызовов.
4. **Gemini / Grok** — на текущий момент не рекомендуются для работы с C++.
